(this["webpackJsonprick-morty"]=this["webpackJsonprick-morty"]||[]).push([[1],{12:function(e,t,a){e.exports=a(28)},17:function(e,t,a){},18:function(e,t,a){},28:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),s=(a(17),a(18),a(2)),i=a(10),l=a(11),u=a(8);function p(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?p(a,!0).forEach((function(t){Object(u.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):p(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d={episodes:[],favourites:[]},f=r.a.createContext(d),v=function(e,t){switch(t.type){case"FETCH_DATA":return m({},e,{episodes:t.payload});case"ADD_FAV":return m({},e,{favourites:[].concat(Object(l.a)(e.favourites),[t.payload])});case"REMOVE_FAV":return m({},e,{favourites:t.payload});default:return e}},h=function(e){var t=r.a.useContext(f).state;return r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("div",null,r.a.createElement("h1",null,"Rick and Morty"),r.a.createElement("p",null,"Pick your favourite episode!")),r.a.createElement("div",null,r.a.createElement(s.a,{className:"link",to:"/rick-morty/"},"Home"),r.a.createElement(s.a,{className:"link",to:"/rick-morty/faves"},"Favourites: ",t.favourites.length))),e.children)},y=a(3),E=a.n(y),b=a(9),g=function(){var e=Object(b.a)(E.a.mark((function e(t){var a,n;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes",e.next=3,fetch("https://api.tvmaze.com/singlesearch/shows?q=rick-&-morty&embed=episodes");case 3:return a=e.sent,e.next=6,a.json();case 6:return n=e.sent,e.abrupt("return",t({type:"FETCH_DATA",payload:n._embedded.episodes}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(e,t,a){var n=e.favourites.includes(t),r={type:"ADD_FAV",payload:t};n&&(r={type:"REMOVE_FAV",payload:e.favourites.filter((function(e){return e.id!==t.id}))});return a(r)},w=r.a.lazy((function(){return a.e(0).then(a.bind(null,29))})),k=function(){var e=r.a.useContext(f),t=e.state,a=e.dispatch;r.a.useEffect((function(){0===t.episodes.length&&g(a)}));var n={episodes:t.episodes,store:{state:t,dispatch:a},toggleFavAction:O,favourites:t.favourites};return r.a.createElement(r.a.Fragment,null,r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"loading ... ")},r.a.createElement("section",{className:"episode-layout"},r.a.createElement(w,n))))},j=r.a.lazy((function(){return a.e(0).then(a.bind(null,29))})),A=function(){var e=r.a.useContext(f),t=e.state,a=e.dispatch,n={episodes:t.favourites,store:{state:t,dispatch:a},toggleFavAction:O,favourites:t.favourites};return r.a.createElement(r.a.Suspense,{fallback:r.a.createElement("div",null,"loading ... ")},r.a.createElement("section",{className:"episode-layout"},r.a.createElement(j,n)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var F=function(e){return e.pageComponent};c.a.render(r.a.createElement((function(e){var t=r.a.useReducer(v,d),a=Object(i.a)(t,2),n=a[0],o=a[1];return r.a.createElement(f.Provider,{value:{state:n,dispatch:o}},e.children)}),null,r.a.createElement(s.b,null,r.a.createElement(h,{path:"/"},r.a.createElement(F,{pageComponent:r.a.createElement(k,null),path:"/"}),r.a.createElement(F,{pageComponent:r.a.createElement(A,null),path:"/faves"})))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[12,2,3]]]);
//# sourceMappingURL=main.d65bbb18.chunk.js.map